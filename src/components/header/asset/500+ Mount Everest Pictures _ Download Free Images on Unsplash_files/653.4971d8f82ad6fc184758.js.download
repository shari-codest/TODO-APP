"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[653],{62057:(e,t,n)=>{n.d(t,{L:()=>r});var i=n(27973),o=n(46953);const r=i.kr9(o.YP)},90653:(e,t,n)=>{n.d(t,{q:()=>D,Z:()=>z});var i={};n.r(i),n.d(i,{load_more_button_label:()=>A});var o=n(52322),r=n(36631),l=n(44714),s=n(8607),c=n(78271),a=n(40349),d=n(50532),h=n(51739),u=n(70503),p=n(40050),f=n(24054),I=n(6127),g=n(39659),S=n(23709),m=n(19730),b=n(27973),O=n(17306),v=n(95889),x=n(62769),P=n(85922),j=n(46953),R=n(90211),y=n(72959),C=n(48213),N=n(19030),Z=n(62057),E=n(90734);n(96859),n(54945),n(26054);const A=()=>"Load more",k=e=>i,q=(0,E.G)(k);function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=()=>{const e=(0,o.jsx)(b.ZCY,{className:"ATnvl",children:(0,C.zG)(O.w6H(0,17),O.UID((e=>(0,o.jsx)(b.ZCY,{className:"dycl5",children:(0,o.jsx)(b.ZCY,{className:"PwSsU O84oE"})},e))))});return(0,o.jsxs)(b.PRT,{children:[(0,o.jsx)(b.ZCY,{className:S.yC,children:e}),(0,o.jsx)(h.Z,{className:S.ny,children:e})]})},F=(0,N.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:v.HP((()=>(0,o.jsx)(a.Z,{type:"photos"}))),getPlaceholderEl:v.HP((()=>(0,o.jsx)(D,{})))}),G=R.Ue();class T extends b.wA2{constructor(){super(...arguments),w(this,"getInfiniteScrollSetting",(e=>{let{shouldRequireInfiniteScrollOptIn:t}=e;return t?G.mk.OptInRequired({optedIn:!1}):G.mk.Enabled})),w(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),w(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:e}=this.state;(0,C.zG)(e,G.match({OptInRequired:e=>{let{optedIn:t}=e;const n=G.mk.OptInRequired({optedIn:(0,y.ff)(t)});this.setState({infiniteScrollSetting:n})},[R._]:C.Q1}))})),w(this,"fetchDataAndBuildActions",(0,r.Z)((e=>(0,C.ls)(e,P.UI((0,C.ls)(I.Yq,p.N.traverseArray(p.We),(e=>{let[t,n]=e;return[(0,c.VA)(n),c.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoSlugs:(0,C.zG)(t,O.UID((e=>e.slug)))})]}))))))),w(this,"createPhotoFeedIdContextValue",(0,r.Z)((e=>j.G(e))))}UNSAFE_componentWillReceiveProps(e){if(e.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const t=this.getInfiniteScrollSetting(e);this.setState({infiniteScrollSetting:t})}}render(){const{photoFeedOption:e,photosOption:t,children:n,getNoContentEl:i,getPlaceholderEl:r,renderBeneathLoadMoreButton:l,feedId:s,fetchPhotos:c,notifier$:a,intersectionObserverRoot:p,intersectionObserverRootMarginBottom:f,t:I}=this.props,{infiniteScrollSetting:g}=this.state,S=(0,C.zG)(g,G.match({OptInRequired:e=>{let{optedIn:t}=e;return t},Enabled:()=>!0})),O=!1===S;return(0,o.jsx)(Z.L.Provider,{value:this.createPhotoFeedIdContextValue(s),children:(0,o.jsx)(d.f,{renderItems:n,feedItemsOption:t,feedStateOption:e,getScrollFooterEl:()=>(0,o.jsx)(b.ZCY,{className:"rx4AP",children:(0,C.zG)(S,y.EQ({True:()=>(0,o.jsx)(u.Z,{}),False:()=>(0,o.jsxs)(b.PRT,{children:[(0,o.jsx)(h.Z,{className:"gDCZZ",children:(0,o.jsx)(b.zxk,{className:b.Shc((0,m.yO)({type:m.L$.Outline}),"WMIal KHq0c"),onClick:this.toggleInfiniteScrollOptIn,type:"button",children:I.load_more_button_label()})}),l?.()]})}))}),getNoContentEl:i,getPlaceholderEl:r,shouldDisableInfiniteScroll:O,fetchDataAndBuildActions:this.fetchDataAndBuildActions(c),notifier$:a,intersectionObserverRoot:p,intersectionObserverRootMarginBottom:f},(0,x.Vv)(s))})}}const _=(0,f.O)()((()=>{const e=(0,g.XT)(),t=(0,g.u0)();return(n,i)=>({photoFeedOption:e(n,i.feedId),photosOption:t(n,i.feedId)})})),z=(0,C.zG)(T,(0,l.$j)(_),q,(e=>(0,s.b9)(e,F)))}}]);