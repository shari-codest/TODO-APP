"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[1983],{5158:(e,a,t)=>{t.d(a,{D_:()=>D,G_:()=>w,W:()=>f,gz:()=>_,wk:()=>x});var r=t(32559),n=t(3730),d=t(94039),s=t(86961),o=t(88178),c=t(91399),l=t(19457),i=t(17306),p=t(74525),h=t(95889),u=t(75227),m=t(44825),I=t(12373),T=t(85922),z=t(30352),U=t(46953),y=t(27410),k=t(90211),S=t(72959),G=t(48213);const b=o.D.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),f=(()=>{switch(n.Oz){case"development":return o.D.matchX({HomepageHeader:(0,G.a9)(307171),SayThanksCardMobile:(0,G.a9)(237077),SayThanksCardTabletUp:(0,G.a9)(237076),TopicsInFeed:s.U3({Phone:257457,[k._]:237186}),ExploreInFeed:s.U3({Phone:257456,[k._]:247889}),SearchInFeed:s.U3({Phone:257455,[k._]:241347})});case"production":return o.D.matchX({HomepageHeader:(0,G.a9)(307172),SayThanksCardMobile:(0,G.a9)(219423),SayThanksCardTabletUp:(0,G.a9)(219424),TopicsInFeed:s.U3({Phone:257453,[k._]:237209}),ExploreInFeed:s.U3({Phone:257454,[k._]:247890}),SearchInFeed:s.U3({Phone:257452,[k._]:241348})})}})(),v=e=>{let{adType:a,count:t,zoneId:r}=e;return{divName:b(a),zoneIds:I.of(r),count:t,networkId:n.HM,siteId:n.Tf,adTypes:I.of(5),properties:{}}},_=e=>{let{adType:a,count:t,zoneId:s}=e;return(0,G.zG)((i={adType:a,count:t,zoneId:s},(0,G.zG)(h.of(d.q9),h.ap((0,G.zG)(i,v,I.of,h.of)),h.ap(h.tD(r.T)))),T.tD,T.tS((e=>T.x0(d.HM)(n.sQ,{method:"POST",headers:{[l.JU]:c.zc.JSON},body:d.D6.encode(e)}))),z.QN,z.UI((e=>(0,G.zG)(e.decisions,p.P5(b(a)),U.tS(U.ij),U.UI(I.UI((e=>o.Ad.fromKevelAd({ad:I.YM(e.contents),decision:e}))))))));var i},x=(e,a)=>I.hX((0,G.ls)((e=>{return(t=e.metadata.advertiserId,i.tSV((e=>(0,G.zG)(e,i.t94(d.Sy)(t),S.EQ({True:u.Vo((()=>(0,G.zG)(e,i.d1t((e=>d.Sy.equals(e,t)))))),False:(0,G.a9)([])})))))(a);var t}),i.EQD(G.W8,(0,G.ls)(i.Gax((a=>(0,G.zG)(e,m.fP(d.Sy)(a)))),S.ff)))),D=y.UI(U.tS((e=>(0,G.zG)(e.template,d.YS.match({"in-feed":a=>U.G(o.Ad.mkInFeedAd({...e,template:a})),[k._]:(0,G.a9)(U.YP)}))))),F=d.YS.matchX({"kitchen-sink":!0,[k._]:!1}),g=d.YS.matchX({"in-feed":!0,[k._]:!1}),w=o.D.matchX({SayThanksCardMobile:F,SayThanksCardTabletUp:F,TopicsInFeed:g,HomepageHeader:(0,G.a9)(!0),ExploreInFeed:g,SearchInFeed:g})},33951:(e,a,t)=>{t.d(a,{W2:()=>A,Yo:()=>P,DU:()=>C});var r=t(52322),n=t(70769),d=t(78271),s=t(27186),o=t(14547),c=t(3730),l=t(72034),i=t(63815),p=t(54917),h=t(9547),u=t(85387),m=t(94039),I=t(45833);const T=(0,t(60985).P1)((e=>e.directAds),(e=>e.renderedAdsByAdvertiser));var z=t(86961),U=t(88178),y=t(27973),k=t(17306),S=t(95889),G=t(85922),b=t(5914),f=t(46953),v=t(27410),_=t(90211),x=t(48213),D=t(52224),F=t(80134),g=t(5158);const w=(()=>{switch(c.Oz){case"development":return[[m.zi(2260292),m.zi(2260293)]];case"production":return[[m.zi(2262847),m.zi(1890533)]]}})(),C=e=>{let{adType:a,count:t}=e;const r=(0,u.v)(T),d=(0,n.m)((e=>(0,x.zG)(e,F.UI((e=>{let[a]=e;return a})))),[r]),s=(0,I.Fy)();return(0,n.m)((e=>{const a=(0,x.zG)(e,F.UI((e=>e[0])),F.xb(U.D.Eq.equals)),r=(0,x.zG)(e,F.UI((e=>e[1])),F.xb(f.Eh(z.Eq).equals)),n=(0,x.zG)(b.gz((0,x.zG)(a,b.u5),r),b.UI((e=>{let[a,t]=e;return(0,g.W)(a)(t)})),F.xb(f.Eh(D.Eq).equals));return(0,x.zG)(b.gz((0,x.zG)(a,b.u5),n),F.Mm(d),F.UI((e=>{let[a,t]=e;return(0,x.zG)(a,f.UI((e=>{let[a,r]=e;return(0,x.bc)(a,r,t)})))})),b.pd((e=>{let[a,r,n]=e;return(0,x.zG)(F.PQ((()=>(0,g.gz)({adType:a,count:3*t,zoneId:r}))),F.bw((0,x.ls)(v.eL((0,x.a9)(S.Xc),G.JQ.match({CodecErrors:(0,x.ls)(k.Ce7(`\nKevel response failed decoding for adType: "${U.D.Show.show(a)}"`),l.$b,S.Ep),[_._]:(0,x.a9)(S.Xc)}),(e=>{const t=(0,x.zG)(e,f.Tw([]),k.UID((e=>e.template)),k.d1t((0,g.G_)(a)));return k.OdA(t)?(0,l.Kw)({error:`Kevel response has invalid templates (${(0,x.zG)(t,k.UID(m.gA),k.v_p(", "))}) for ad type: "${U.D.Show.show(a)}"`}):S.Xc})),S.ht)),F.UI(v.UI(f.tS((0,g.wk)(n,w)))))})),F.UI(f.pF((()=>v.nn))))}),[a,s])},P=e=>{let{adType:a,count:t,children:r}=e;return r((0,h.s)(C({adType:a,count:t})))},E=e=>{let{metadata:a}=e;return(0,r.jsxs)(y.PRT,{children:[(0,r.jsx)(o._,{url:a.impressionUrl}),(0,x.zG)(a.impressionTrackers,f.WA(k.Sud(((e,a)=>(0,r.jsx)(o._,{url:a},e)))))]})},A=e=>{let{children:a,metadata:t,adType:n}=e;const o=(0,i.I)();return(0,p.b)((()=>{o(d.aU.mk.DirectAdImpression({metadata:t,adType:n}))})),(0,r.jsxs)(y.PRT,{children:[a,(0,r.jsx)(s.Z,{children:(0,r.jsx)(E,{metadata:t})})]})}},4114:(e,a,t)=>{t.d(a,{$:()=>l});var r=t(52322),n=t(78271),d=t(39218),s=t(63815),o=t(27973),c=t(57888);const l=e=>{let{metadata:a,adType:t,...l}=e;const i=(0,s.I)(),p=o.I47((()=>{i(n.aU.mk.Track(c.mk.DirectAdClick({metadata:a,adType:t})))}),[a,t,i]);return(0,r.jsx)(d.r,{onClick:p,href:a.clickUrl,...l})}},9547:(e,a,t)=>{t.d(a,{s:()=>d});var r=t(93096),n=t(27410);const d=e=>(0,r.p)(e,n.nn)},1131:(e,a,t)=>{t.d(a,{$:()=>c});var r=t(98170),n=t(35239),d=t(95889),s=t(46953);const o=(0,t(48213).zG)(n.V4,d.ht,s.Gg((e=>"force_direct_ads"in e))),c=()=>(0,r.US)()&&o}}]);